(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function f(t,e=document){return e.querySelector(t)}function l(t){return JSON.parse(localStorage.getItem(t))}function d(t,e){localStorage.setItem(t,JSON.stringify(e))}async function s(t){const e=await fetch(t);if(e.ok)return await e.text();throw new Error("Could not load template")}function i(t,e,n,a){e.insertAdjacentHTML("afterbegin",t)}async function m(){try{const t=await s("/public/partials/header.html"),e=await s("/public/partials/footer.html"),n=document.querySelector("#main-header"),a=document.querySelector("#main-footer");i(t,n),i(e,a);const r=document.querySelector("#year");r&&(r.textContent=new Date().getFullYear()),u()}catch(t){console.error("Error loading header/footer:",t)}}function p(t){const e=window.location.search;return new URLSearchParams(e).get(t)}function g(t,e,n,a="afterbegin",r=!1){r&&(e.innerHTML="");const o=n.map(t);e.insertAdjacentHTML(a,o.join(""))}function u(){const t=l("favorites")||[],e=document.querySelector("#favorites-count");e&&(e.textContent=t.length)}export{p as a,l as g,m as l,f as q,g as r,d as s,u};
