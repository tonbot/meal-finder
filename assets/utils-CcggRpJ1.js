(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();function m(t,e=document){return e.querySelector(t)}function f(t){return JSON.parse(localStorage.getItem(t))}function p(t,e){localStorage.setItem(t,JSON.stringify(e))}async function l(t){const e=await fetch(t);if(e.ok)return await e.text();throw new Error("Could not load template")}function u(t,e,o,a){e.insertAdjacentHTML("afterbegin",t)}async function g(){const t=document.querySelector("#main-header"),e=document.querySelector("#main-footer");try{const o="/meal-finder/",a=await l(o+"partials/header.html"),r=await l(o+"partials/footer.html");u(a,t),u(r,e),[...t.querySelectorAll("a"),...e.querySelectorAll("a")].forEach(c=>{const i=c.getAttribute("href");i&&i.startsWith("/")&&!i.startsWith(o)&&c.setAttribute("href",o+i.substring(1))});const s=document.querySelector("#year");s&&(s.textContent=new Date().getFullYear()),d()}catch(o){console.error("Error loading header/footer:",o),t&&(t.innerHTML=`<p style="color:red; padding:1rem;">Error loading header: ${o.message} (Path: /meal-finder/partials/header.html)</p>`),e&&(e.innerHTML=`<p style="color:red; padding:1rem;">Error loading footer: ${o.message}</p>`)}}function h(t){const e=window.location.search;return new URLSearchParams(e).get(t)}function y(t,e,o,a="afterbegin",r=!1){r&&(e.innerHTML="");const n=o.map(t);e.insertAdjacentHTML(a,n.join(""))}function d(){const t=f("favorites")||[],e=document.querySelector("#favorites-count");e&&(e.textContent=t.length)}export{h as a,f as g,g as l,m as q,y as r,p as s,d as u};
