(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();function p(t,e=document){return e.querySelector(t)}function d(t){return JSON.parse(localStorage.getItem(t))}function h(t,e){localStorage.setItem(t,JSON.stringify(e))}async function u(t){const e=await fetch(t);if(e.ok)return await e.text();{const o=`Could not load template at ${t}: ${e.status} ${e.statusText}`;throw console.error(o),new Error(o)}}function f(t,e,o,a){e&&e.insertAdjacentHTML("afterbegin",t)}async function y(){const t=document.querySelector("#main-header"),e=document.querySelector("#main-footer");try{const o="/meal-finder/",a=(o+"partials/header.html").replace(/\/+/g,"/"),r=(o+"partials/footer.html").replace(/\/+/g,"/"),n=await u(a),s=await u(r);f(n,t),f(s,e),[...t?t.querySelectorAll("a"):[],...e?e.querySelectorAll("a"):[]].forEach(l=>{const c=l.getAttribute("href");c&&c.startsWith("/")&&(c.startsWith(o)||l.setAttribute("href",(o+c.substring(1)).replace(/\/+/g,"/")))});const i=document.querySelector("#year");i&&(i.textContent=new Date().getFullYear()),m()}catch(o){console.error("Error in loadHeaderFooter:",o),t&&!t.innerHTML&&(t.innerHTML=`<p style="color:red; padding:1rem; text-align:center;">Error loading header: ${o.message}</p>`)}}function S(t){const e=window.location.search;return new URLSearchParams(e).get(t)}function L(t,e,o,a="afterbegin",r=!1){r&&(e.innerHTML="");const n=o.map(t);e.insertAdjacentHTML(a,n.join(""))}function m(){const t=d("favorites")||[],e=document.querySelector("#favorites-count");e&&(e.textContent=t.length)}export{S as a,d as g,y as l,p as q,L as r,h as s,m as u};
